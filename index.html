<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tickets Dashboard - GoHighLevel Integration</title>
    <meta name="description" content="Full-featured tickets management dashboard with GoHighLevel API integration for agents to view, search, filter, and update support tickets" />
    <meta name="author" content="Lovable" />
    <meta property="og:title" content="Tickets Dashboard - GoHighLevel Integration" />
    <meta property="og:description" content="Full-featured tickets management dashboard with GoHighLevel API integration" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
    
    <!-- IFRAME COMPATIBILITY FIX - Must run before any other scripts -->
    <script>
      // Critical: Fix iframe compatibility for GHL and Lovable.dev
      (function() {
        if (typeof window !== 'undefined') {
          // Create a universal warn function
          var universalWarn = function() { 
            if (console && console.warn) console.warn.apply(console, arguments);
          };
          var universalLog = function() { 
            if (console && console.log) console.log.apply(console, arguments);
          };
          var universalError = function() { 
            if (console && console.error) console.error.apply(console, arguments);
          };
          var universalDebug = function() { 
            if (console && console.debug) console.debug.apply(console, arguments);
          };
          
          // Fix for all possible minified variable names
          var possibleNames = ['we', 'ye', 'logger', 'log', 'l', 'w', 'e', 'd'];
          
          possibleNames.forEach(function(name) {
            window[name] = window[name] || {};
            window[name].warn = window[name].warn || universalWarn;
            window[name].log = window[name].log || universalLog;
            window[name].error = window[name].error || universalError;
            window[name].debug = window[name].debug || universalDebug;
          });
          
          // Ensure console exists in all contexts
          window.console = window.console || {};
          window.console.log = window.console.log || function() {};
          window.console.warn = window.console.warn || function() {};
          window.console.error = window.console.error || function() {};
          window.console.debug = window.console.debug || function() {};
          
          // Override Object.defineProperty to catch any attempts to create loggers
          var originalDefineProperty = Object.defineProperty;
          Object.defineProperty = function(obj, prop, descriptor) {
            // If trying to define a property on window that might be a logger
            if (obj === window && typeof descriptor.value === 'object') {
              // Ensure it has logging methods
              descriptor.value = descriptor.value || {};
              descriptor.value.warn = descriptor.value.warn || universalWarn;
              descriptor.value.log = descriptor.value.log || universalLog;
              descriptor.value.error = descriptor.value.error || universalError;
              descriptor.value.debug = descriptor.value.debug || universalDebug;
            }
            return originalDefineProperty.call(this, obj, prop, descriptor);
          };
        }
      })();
    </script>
    <!-- END OF IFRAME FIX -->
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
